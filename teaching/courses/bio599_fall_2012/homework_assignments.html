

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Homework assignments &mdash; bioinformatics@nau</title>
    
    <link rel="stylesheet" href="../../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/theme_extras.js"></script>
    <link rel="top" title="bioinformatics@nau" href="../../index.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../../index.html">
          <span>bioinformatics@nau</span></a></h1>
        <h2 class="heading"><span>Homework assignments</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="../../index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="homework-assignments">
<h1>Homework assignments<a class="headerlink" href="#homework-assignments" title="Permalink to this headline">¶</a></h1>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">I encourage you to discuss homework assignments with each other, but you may not view other student&#8217;s assignments or share your assignment with others. When you start programming, you often think there is a single way to address a task, but that is usually not the case: there are many ways to complete these assignments, and when code has been shared or copied it is often very obvious to a more experienced eye.</p>
</div>
<div class="section" id="turning-in-your-homework">
<h2>Turning in your homework<a class="headerlink" href="#turning-in-your-homework" title="Permalink to this headline">¶</a></h2>
<p>Your homework must always be turned in with a standardized name. That name should be <tt class="docutils literal"><span class="pre">&lt;nau_id&gt;_&lt;homework_id&gt;.&lt;extension&gt;</span></tt>, where <tt class="docutils literal"><span class="pre">&lt;nau_id&gt;</span></tt> is your NAU identifier (for example, mine is <tt class="docutils literal"><span class="pre">jgc53</span></tt>), and <tt class="docutils literal"><span class="pre">&lt;homework_id&gt;</span></tt> and <tt class="docutils literal"><span class="pre">&lt;extension&gt;</span></tt> are provided on a per-assignment basis.</p>
<p>Unless otherwise noted, homework must be turned in by email to <a class="reference external" href="mailto:alk224&#37;&#52;&#48;nau&#46;edu">alk224<span>&#64;</span>nau<span>&#46;</span>edu</a> before class on the day it is due.</p>
</div>
<div class="section" id="accessing-the-cluster">
<h2>Accessing the cluster<a class="headerlink" href="#accessing-the-cluster" title="Permalink to this headline">¶</a></h2>
<p>For the remaining assignments this semester we&#8217;ll use an Amazon Cloud based cluster. You should have received a key file (<tt class="docutils literal"><span class="pre">&lt;nau-id&gt;.rsa</span></tt>) and ip address by email. (I won&#8217;t post the ip address here for security reasons.) Use the key file and the ip address to connect as follows:</p>
<div class="highlight-python"><pre>ssh -i &lt;key-file&gt; &lt;nau-id&gt;@&lt;ip-address&gt;</pre>
</div>
<p>For example, I would connect as follows:</p>
<div class="highlight-python"><pre>ssh -i jgc53.rsa jgc53@&lt;ip-address&gt;</pre>
</div>
<p>Where <tt class="docutils literal"><span class="pre">&lt;ip-address&gt;</span></tt> is replaced with the IP address that was provided by email.</p>
<p>To move files in and out of the instance, I recommend using <a class="reference external" href="http://www.cyberduck.ch">Cyberduck</a>. You can find <a class="reference external" href="http://qiime.org/tutorials/working_with_aws.html#working-with-cyberduck">instructions for connecting to AWS with Cyberduck here</a>. Instead of the public DNS entry, you&#8217;ll use the IP address referenced above. You can also experiment with <a class="reference external" href="http://qiime.org/tutorials/working_with_aws.html#working-with-command-line-tools">command line tools to move data in and out of the cluster</a>.</p>
</div>
<div class="section" id="programming-assignment-1-8-nov-2012">
<h2>Programming Assignment 1 (8 Nov 2012)<a class="headerlink" href="#programming-assignment-1-8-nov-2012" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>Write a program that does the following:</dt>
<dd><ul class="first last simple">
<li>query a user for an input sequence</li>
<li>print the sequence, all in uppercase, in four orientations (forward, reverse, forward complement, reverse complement), where forward refers to the sequence that was passed in.</li>
<li>print the GC content (percent of the sequence which is either G or C) of the forward orientation of the sequence</li>
<li>print the length of the sequence</li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Complementing the sequence can be tricky with your current skill set. You may need to go through an intermediate state by replacing characters with some other character. There are many ways to do this and the goal here is to get the right answer. I don&#8217;t care how you implement it.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To reverse a string <tt class="docutils literal"><span class="pre">s</span></tt>, you can use the command <tt class="docutils literal"><span class="pre">s_rev</span> <span class="pre">=</span> <span class="pre">s[::-1]</span></tt> We&#8217;ll talk about this syntax within the next couple of weeks - for now, just treat this command as magic.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To perform real division using integers, add the following line at the beginning of your file (just after the <cite>shebang</cite> line): <tt class="docutils literal"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">division</span></tt></p>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Homework id: <tt class="docutils literal"><span class="pre">sequence_stats</span></tt>; Extension: <tt class="docutils literal"><span class="pre">py</span></tt>; For this assignment, the file I turn in would be named <tt class="docutils literal"><span class="pre">jgc53_sequence_stats.py</span></tt>.</p>
</div>
</div>
<div class="section" id="qiime-analysis-25-oct-2012">
<h2>QIIME analysis (25 Oct 2012)<a class="headerlink" href="#qiime-analysis-25-oct-2012" title="Permalink to this headline">¶</a></h2>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">This assignment involves large data files. You will need to work in your <cite>scratch</cite> directory, or you will run out of space. On logging into the cluster change to <tt class="docutils literal"><span class="pre">/mnt/&lt;nau-id&gt;</span></tt> where <tt class="docutils literal"><span class="pre">&lt;nau-id&gt;</span></tt> is your NAU identifier. For example, I would do this by running the command: <tt class="docutils literal"><span class="pre">cd</span> <span class="pre">/mnt/jgc53</span></tt>.</p>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Remember that the <tt class="docutils literal"><span class="pre">screen</span></tt> command will be important to allow your analyses to continue running if your network connection is interrupted. You can find <a class="reference external" href="http://www.ibm.com/developerworks/aix/library/au-gnu_screen/">details on screen here</a>.</p>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">This assignment is designed to force you to use existing resources (internet, primary literature) to learn to use an existing bioinformatics tool to address a biological question. Because of the amount that you&#8217;re expected to learn on your own, this homework will involve additional effort relative to the others so far this semester. <strong>It will be a lot easier</strong> if you begin by working through the <a class="reference external" href="http://qiime.org/svn_documentation/tutorials/illumina_overview_tutorial.html">Illumina Overview Tutorial</a>, followed by the <a class="reference external" href="http://qiime.org/svn_documentation/tutorials/tutorial.html">QIIME Overview Tutorial</a>.  There is no class on 16 October 2012: use that time to get started on this!</p>
</div>
<p>Begin by reading <a class="reference external" href="http://www.pnas.org/content/107/14/6477.long">Fierer et al</a>. You will use QIIME to reproduce the analyses presented in this paper.</p>
<dl class="docutils">
<dt>Data analysis: You will perform a complete QIIME analysis of the data set presented in Fierer et al, and turn in the following items:</dt>
<dd><ul class="first last simple">
<li>A 3 page (maximum!) paper describing your analysis. Write this as if you&#8217;re submitting to a journal, so should contain an <cite>Introduction</cite> section describing the hypotheses being addressed and the strategy for addressing these (refer to <a class="reference external" href="http://www.pnas.org/content/107/14/6477.long">Fierer et al</a>), a <cite>Methods</cite> section containing a brief description of your bioinformatics methods (e.g., what version of QIIME, what type of OTU picking was used) and how the data was generated (e.g., sequencing platform), and a <cite>Results</cite> section describing the results of your analysis. Your 2-3 pages should include a beta diversity PCoA plot (generated by <a class="reference external" href="http://qiime.org/scripts/beta_diversity_through_plots.html">beta_diversity_through_plots.py</a>; focus on Unweighted UniFrac, which is what we discussed in class) in a view that supports your conclusions, and an alpha rarefaction plot (generated by <a class="reference external" href="http://qiime.org/scripts/alpha_rarefaction.html">alpha_rarefaction.py</a>). You should also include a table that lists the five OTUs that are most significantly different across the <cite>Subject</cite> category in your mapping file (generated by <a class="reference external" href="http://qiime.org/scripts/otu_category_significance.html">otu_category_significance.py</a>). Figures and tables should take up no more than one total page of your paper. This paper must be turned in as a PDF - <tt class="docutils literal"><span class="pre">.doc</span></tt> or other word processing formats will not be accepted.</li>
<li>Evenly sampled OTU table (generated by <a class="reference external" href="http://qiime.org/scripts/beta_diversity_through_plots.html">beta_diversity_through_plots.py</a>). This should be provided as a gzipped <cite>.biom</cite> file.</li>
<li>Text file containing the full list of commands that you ran to generate the above data, noting any problems that you ran into along the way.</li>
</ul>
</dd>
</dl>
<p>The following commands will get you started. Run these after logging in to your cluster account.</p>
<div class="highlight-python"><pre># CHANGE TO YOUR SCRATCH DIRECTORY (remember &lt;nau-id&gt; should be replaced by your NAU identifier)!!!
cd /mnt/&lt;nau-id&gt;

# download the Fierer data
curl -O https://s3.amazonaws.com/s3-caporaso-share/fierer_forensic_keyboard_assignment.tgz &gt; fierer_forensic_keyboard_assignment.tgz

# unpack the tgz file and change to the resulting directory
tar -xvzf fierer_forensic_keyboard_assignment.tgz
cd fierer_forensic_keyboard_assignment

# generate .fna and .qual files from the sff file
process_sff.py -i ./</pre>
</div>
<p>The steps in the <a class="reference external" href="http://qiime.org/svn_documentation/tutorials/tutorial.html">QIIME Overview Tutorial</a> are the next place to go from here... Good luck!</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p>Homework id: <tt class="docutils literal"><span class="pre">qiime</span></tt>; Extension: <tt class="docutils literal"><span class="pre">biom</span></tt>, <tt class="docutils literal"><span class="pre">pdf</span></tt>, and <tt class="docutils literal"><span class="pre">txt</span></tt>; For this assignment, the files I turn in would be named &lt;userid&gt;_qiime_otu_table_even.biom, &lt;userid&gt;_qiime_paper.pdf and &lt;userid&gt;_qiime_analysis_notes.txt.</p>
<p class="last">E-mail your files as three separate attachments to <a class="reference external" href="mailto:alk224&#37;&#52;&#48;nau&#46;edu">alk224<span>&#64;</span>nau<span>&#46;</span>edu</a>.</p>
</div>
</div>
<div class="section" id="shell-script-due-9-oct-2012">
<h2>Shell script (due 9 Oct 2012)<a class="headerlink" href="#shell-script-due-9-oct-2012" title="Permalink to this headline">¶</a></h2>
<p>In this assignment you will automate retrieval and processing of PDB files with a shell (<tt class="docutils literal"><span class="pre">bash</span></tt>) script, and turn that script in. We will run that script and grade you on the results. Your script should perform the following steps:</p>
<ol class="arabic simple">
<li>Create a new directory called <tt class="docutils literal"><span class="pre">&lt;nau-id&gt;_pdb_files</span></tt> (e.g., mine would be called <tt class="docutils literal"><span class="pre">jgc53_pdb_files</span></tt>).</li>
<li>Create a file in that directory called <tt class="docutils literal"><span class="pre">pdb_retrieval.log</span></tt> which contains:</li>
</ol>
<blockquote>
<div><ol class="loweralpha simple">
<li>the time the script began running (including descriptive text like <cite>Logging started at:</cite> <tt class="docutils literal"><span class="pre">&lt;time&gt;</span></tt>) - this should only be the time, not the date (use google and <tt class="docutils literal"><span class="pre">man</span></tt> to figure out the formatting)</li>
<li>the time the script completed running (again with descriptive text like <cite>Logging ended at:</cite> <tt class="docutils literal"><span class="pre">&lt;time&gt;</span></tt>) - this should only be the time, not the date (use google and <tt class="docutils literal"><span class="pre">man</span></tt> to figure out the formatting)</li>
<li>the URLs of the files that were downloaded</li>
<li>the date of the download (so in case of future changes to the files on the PDB you know what versions of the files you obtained) - this should only be the date, not the time (use google and <tt class="docutils literal"><span class="pre">man</span></tt> to figure out the formatting)</li>
<li>any other information that you think might be important to log.</li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="3">
<li>Download the following PDB records as PDB files in <tt class="docutils literal"><span class="pre">.gz</span></tt> format: <tt class="docutils literal"><span class="pre">4DA7</span></tt>, <tt class="docutils literal"><span class="pre">1HSG</span></tt>,  <tt class="docutils literal"><span class="pre">1ZQA</span></tt>, <tt class="docutils literal"><span class="pre">2RNM</span></tt>, <tt class="docutils literal"><span class="pre">1RCX</span></tt>, <tt class="docutils literal"><span class="pre">1GFL</span></tt>,  <tt class="docutils literal"><span class="pre">2WDK</span></tt> (Hint: first go to the Protein Data Bank website and find the link to those records. Then figure out how to generalize that link to match different records.)</li>
<li>Unzip all of the <tt class="docutils literal"><span class="pre">.gz</span></tt> files. (Hint: a wildcard expression is useful here.)</li>
<li>Extract the line(s) containing PMIDs (PubMed Identifiers) for each of the records (Hint: Use <tt class="docutils literal"><span class="pre">egrep</span></tt> for this, and review the files to figure out where that information is) and write those lines to a new file called <tt class="docutils literal"><span class="pre">pmids.txt</span></tt>.</li>
<li>Extract the line(s) containing TITLE for each of the records (Hint: Use <tt class="docutils literal"><span class="pre">egrep</span></tt> for this, and review the files to figure out where that information is) and write those lines to a new file called <tt class="docutils literal"><span class="pre">titles.txt</span></tt>.</li>
<li>Zip all of the PDB files in the directory with <tt class="docutils literal"><span class="pre">gzip</span></tt>.</li>
</ol>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p>Homework id: <tt class="docutils literal"><span class="pre">shellscript</span></tt>; Extension: <tt class="docutils literal"><span class="pre">sh</span></tt>; For this assignment, the script file I turn in would be named <tt class="docutils literal"><span class="pre">jgc53_shellscript.sh</span></tt>. Note that you will not turn in any files in the <tt class="docutils literal"><span class="pre">pdb_files</span></tt> directory: we&#8217;ll generate those using your script.</p>
<p class="last">E-mail your shell script as an attachment to <a class="reference external" href="mailto:alk224&#37;&#52;&#48;nau&#46;edu">alk224<span>&#64;</span>nau<span>&#46;</span>edu</a>.</p>
</div>
</div>
<div class="section" id="regular-expressions-due-18-sept-2012">
<h2>Regular Expressions (due 18 Sept 2012)<a class="headerlink" href="#regular-expressions-due-18-sept-2012" title="Permalink to this headline">¶</a></h2>
<p>Download the EMP minimal mapping file <a class="reference download internal" href="../../_downloads/emp_11sept2012_minimal_mapping_file.txt.gz"><tt class="xref download docutils literal"><span class="pre">here</span></tt></a> - you&#8217;ll need to unzip that file to get started. You can read about the <a class="reference external" href="http://qiime.org/documentation/file_formats.html#metadata-mapping-files">file format here</a>.</p>
<p>Perform the reformatting steps described below. You&#8217;ll turn in two metadata mapping files, one for the human-associated samples and one for all other samples (this splitting is one of the formatting steps described below). You&#8217;ll also turn in a <em>patterns file</em>, which will be a text file containing list of the search and replace patterns that were applied to perform the reformatting, including &#8220;comment&#8221; lines before each pair of patterns describing what the following pattern does. Comment lines <em>must</em> begin with the <tt class="docutils literal"><span class="pre">#</span></tt> symbol so they can be computationally differentiated from non-comment lines.</p>
<p>Each line in your <em>patterns file</em> should contain exactly one regular expression pattern: for each task you should have the search pattern on one line, followed by the replace pattern on the next line. These patterns must work in either TextWrangler or jEdit (I don&#8217;t care which, but your patterns must work in one of the two).</p>
<p>The tasks you must achieve are as follows:</p>
<ol class="arabic simple">
<li>Replace all fields where full text is <tt class="docutils literal"><span class="pre">no_data</span></tt> with <tt class="docutils literal"><span class="pre">NA</span></tt></li>
<li>Reorder the columns so the final output is in this order: <tt class="docutils literal"><span class="pre">SampleID</span></tt>, <tt class="docutils literal"><span class="pre">BarcodeSequence</span></tt>, <tt class="docutils literal"><span class="pre">LinkerPrimerSequence</span></tt>, <tt class="docutils literal"><span class="pre">LATITUDE</span></tt>, <tt class="docutils literal"><span class="pre">LONGITUDE</span></tt>, <tt class="docutils literal"><span class="pre">PRINCIPAL_INVESTIGATOR</span></tt>, <tt class="docutils literal"><span class="pre">COUNTRY</span></tt>, <tt class="docutils literal"><span class="pre">STUDY_ID</span></tt>, [intermediate fields: order doesn&#8217;t matter], <tt class="docutils literal"><span class="pre">Description</span></tt></li>
<li>Append <tt class="docutils literal"><span class="pre">emp.summer2012.</span></tt> to the beginning of each line except the header line.</li>
<li>Reformat <tt class="docutils literal"><span class="pre">RUN_DATE</span></tt> entries to contain full year (four digits rather than two)</li>
<li>Create two new fields from <tt class="docutils literal"><span class="pre">PCR_PRIMERS</span></tt> field: <tt class="docutils literal"><span class="pre">FWD_PCR_PRIMER</span></tt> and <tt class="docutils literal"><span class="pre">REV_PCR_PRIMER</span></tt> where each field contains the primer nucleotide sequence only (ie., including only the IUPAC nucleotide characters).</li>
<li>Remove these columns: <tt class="docutils literal"><span class="pre">EMP_PERSON</span></tt>, <tt class="docutils literal"><span class="pre">PRINCIPAL_INVESTIGATOR_CONTACT</span></tt></li>
<li>Split the full metadata file into two subfiles: one for human-associated samples, and one for all other samples.</li>
<li><tt class="docutils literal"><span class="pre">TAXONID</span></tt> and <tt class="docutils literal"><span class="pre">PMID</span></tt> refer to NCBI database entries. What do these mean? Thinking ahead, how might you automatically extract these the information that these terms refer to? Do some research... (NOTE: nothing to turn in for this one, but I will call on people in class to share their ideas.)</li>
</ol>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p>Homework id: <tt class="docutils literal"><span class="pre">regex</span></tt>; Extension: <tt class="docutils literal"><span class="pre">txt</span></tt>; For this assignment, the patterns file I turn in would be named <tt class="docutils literal"><span class="pre">jgc53_regex.txt</span></tt>. The metadata mapping files should be named <tt class="docutils literal"><span class="pre">&lt;nau_id&gt;_human_emp_11sept2012_minimal_mapping_file.txt</span></tt> and <tt class="docutils literal"><span class="pre">&lt;nau_id&gt;_other_emp_11sept2012_minimal_mapping_file.txt</span></tt> where <tt class="docutils literal"><span class="pre">&lt;nau_id&gt;</span></tt> is your NAU identifier. Mine would be <tt class="docutils literal"><span class="pre">jgc53_human_emp_11sept2012_minimal_mapping_file.txt</span></tt> and <tt class="docutils literal"><span class="pre">jgc53_other_emp_11sept2012_minimal_mapping_file.txt</span></tt>.</p>
<p class="last">E-mail these three files as attachments to <a class="reference external" href="mailto:alk224&#37;&#52;&#48;nau&#46;edu">alk224<span>&#64;</span>nau<span>&#46;</span>edu</a>.</p>
</div>
</div>
<div class="section" id="gc-content-due-4-sept-2012">
<h2>GC content (due 4 Sept 2012)<a class="headerlink" href="#gc-content-due-4-sept-2012" title="Permalink to this headline">¶</a></h2>
<p>Download a genome and compute its GC content (i.e., the percent of the genome that is composed of G or C). Turn in a max of one page describing the steps that you took to achieve this, including failed attempts, and the genome you selected (include a link to the download page) and the GC content that you computed.</p>
<p>Note that there are various ways that you can just look up the GC content, including via the IMG website. I&#8217;m asking you to compute it, and you&#8217;re being graded on your description of the process. Getting the right answer is a bonus (i.e., if you spend a couple of hours trying, and get it wrong, you&#8217;ll be graded on your well-documented effort, not your final answer).</p>
<p>Hints: Start with the IMG Genome Browser, and work with a bacterial, archaeal or viral genome.</p>
<p>Be creative - there are many ways to achieve this.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Homework id: <tt class="docutils literal"><span class="pre">gc_content</span></tt>; Extension: <tt class="docutils literal"><span class="pre">pdf</span></tt>; For this first assignment, the file I turn in would be named <tt class="docutils literal"><span class="pre">jgc53_gc_content.pdf</span></tt>.</p>
</div>
</div>
<div class="section" id="text-editor-due-30-aug-2012">
<h2>Text editor (due 30 Aug 2012)<a class="headerlink" href="#text-editor-due-30-aug-2012" title="Permalink to this headline">¶</a></h2>
<p>Download and install a text editor. Use one of the ones recommended in PCFB. There is nothing to turn in for this assignment.</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="../../index.html">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012, J Gregory Caporaso.
      Last updated on Nov 07, 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>